!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=24)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connect=e.store=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.createStore=function(t){e.store=l=new u(t)};var r,i=n(18),a=(r=i)&&r.__esModule?r:{default:r},c=n(2);var l=e.store=void 0,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.state={},this.event=new a.default,this.setState(e),this.on=this.event.on,this.emit=this.event.emit}return o(t,[{key:"setState",value:function(t){var e=(0,c.deepExtend)(this.state,t);this.event.emit("change",e),this.state=e}},{key:"getState",value:function(t){return(0,c.getPath)(t,this.state)}}]),t}();e.default=u;e.Connect=function(t){return function(){var e=new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));return e.store=l,l.on("change",function(t){e.onStateChange&&e.onStateChange(t)}),e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.Component=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ids=new Map,this.DOM=e,this.DOM.removeAttribute("data-component"),this.props=this.DOM.dataset}return o(t,[{key:"_init",value:function(){this._render(),this.onInit&&this.onInit()}},{key:"_render",value:function(){var t=this,e=(new DOMParser).parseFromString(this.render(),"text/html");this.DOM.appendChild(e.querySelector("body").firstChild),this.DOM.querySelectorAll("[component-click]").forEach(function(e){var n=e.getAttribute("component-click");e.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),new Function("\n                return function (e) {\n                    return this."+n+";\n                }\n            ")().call(t,e)})}),this.DOM.querySelectorAll("[component-id]").forEach(function(e){var n=e.getAttribute("component-id");t.ids.set(n,e)})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.openFullscreen=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},e.closeFullscreen=function(){document.documentElement;try{document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}catch(t){}},e.getPath=function(t,e){return t.split(".").reduce(function(t,e){return t=t[e]||t},e)};e.getViewportSize=function(){return{w:Math.max(document.documentElement.clientWidth,window.innerWidth||0),h:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}},e.deepExtend=function t(e,n){for(var r in n)r in e&&"object"===o(e[r])&&"object"===o(n[r])?t(e[r],n[r]):e[r]=n[r];return e}},,function(t,e,n){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0),a=n(2);var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"handleClickFullscreen",value:function(t){"on"===this.store.getState("toolbox.fullscreen",this.store.state)?(this.store.setState({toolbox:{fullscreen:"off"}}),(0,a.closeFullscreen)()):confirm("It would reset your board, do you want to proceed?")&&(this.store.setState({toolbox:{fullscreen:"on"}}),(0,a.openFullscreen)())}},{key:"handleClickDownload",value:function(t){this.store.setState({board:{download:!0}})}},{key:"handleClickEraser",value:function(t){confirm("Do you want to clear your board?")&&this.store.setState({board:{reset:!0}})}},{key:"handleClickGithub",value:function(t){window.open("https://github.com/allanesquina/whiteboard","_blank")}},{key:"render",value:function(){return'\n            <div class="top-menu">\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t\t\tdata-icon="garbage"\n\t\t\t\t\t\t\t\t    data-title="Clear Board"\n                    component-click="handleClickEraser(e)"\n                ></div>\n\n                <span class="separator"></span>\n\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t    data-title="Download Image"\n\t\t\t\t\t\t\t\t\t\tdata-icon="download"\n                    component-click="handleClickDownload(e)"\n                ></div>\n\n                <span class="separator"></span>\n\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t    data-title="Source Code on Github"\n\t\t\t\t\t\t\t\t\t\tdata-icon="github"\n                    component-click="handleClickGithub(e)"\n                ></div>\n\n                <span class="separator"></span>\n\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t    data-title="Fullscreen"\n\t\t\t\t\t\t\t\t\t\tdata-type="on"\n\t\t\t\t\t\t\t\t\t\tdata-path="toolbox.fullscreen"\n\t\t\t\t\t\t\t\t\t\tdata-icon="fullscreen"\n                    component-click="handleClickFullscreen(e)"\n                ></div>\n\n            </div>\n        '}}]),e}();e.default=(0,i.Connect)(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.DOM.classList.add("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"checkVisibility",value:function(t){"background"===t.toolbox.currentTool?this.DOM.classList.add("visible"):this.DOM.classList.remove("visible")}},{key:"onInit",value:function(){this.checkVisibility(this.store.state)}},{key:"onStateChange",value:function(t){this.checkVisibility(t)}},{key:"render",value:function(){return'\n            <div class="menu-properties">\n              <label> Background </label>\n              <div data-component="MenuButton"\n                  data-icon="background"\n              ></div>\n              <span class="separator"></span>\n              <label> Color: </label>\n              <span data-type="background" data-component="ColorButton"></span>\n            </div>\n        '}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.sizes=[5,10,15,20],n.DOM.classList.add("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"checkVisibility",value:function(t){"eraser"===t.toolbox.currentTool?this.DOM.classList.add("visible"):this.DOM.classList.remove("visible")}},{key:"onStateChange",value:function(t){this.checkVisibility(t)}},{key:"onInit",value:function(){var t=this;this.checkVisibility(this.store.state),this.ids.get("select").addEventListener("change",function(e){var n=e.target;t.store.setState({toolbox:{eraser:{size:t.sizes[n.selectedIndex]}}})})}},{key:"renderSelect",value:function(){var t=[],e=this.store.getState("toolbox.eraser.size");return this.sizes.forEach(function(n){var o=n===e?"selected='selected'":"";t.push("<option "+o+' value="'+n+'">'+n+"pt</option>")}),'\n      <select component-id="select">\n        '+t.join("")+"\n      </select>\n    "}},{key:"render",value:function(){return'\n            <div class="menu-properties">\n              <label> Eraser </label>\n              <div data-component="MenuButton"\n                  data-icon="eraser"\n              ></div>\n              <span class="separator"></span>\n              <label> Size: </label>\n              '+this.renderSelect()+"\n            </div>\n        "}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.sizes=[1,2,3,4,5,10],n.DOM.classList.add("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"checkVisibility",value:function(t){"pencil"===t.toolbox.currentTool?this.DOM.classList.add("visible"):this.DOM.classList.remove("visible")}},{key:"onStateChange",value:function(t){this.checkVisibility(t)}},{key:"onInit",value:function(){var t=this;this.checkVisibility(this.store.state),this.ids.get("select").addEventListener("change",function(e){var n=e.target;t.store.setState({toolbox:{pencil:{size:t.sizes[n.selectedIndex]}}})})}},{key:"renderSelect",value:function(){var t=[],e=this.store.getState("toolbox.pencil.size");return this.sizes.forEach(function(n){var o=n===e?"selected='selected'":"";t.push("<option "+o+' value="'+n+'">'+n+"pt</option>")}),'\n      <select component-id="select">\n        '+t.join("")+"\n      </select>\n    "}},{key:"render",value:function(){return'\n            <div class="menu-properties">\n              <label> Pencil </label>\n              <div data-component="MenuButton"\n                  data-icon="pencil"\n              ></div>\n              <span class="separator"></span>\n              <label> Color: </label>\n              <span data-type="pencil" data-component="ColorButton"></span>\n              <span class="separator"></span>\n              <label> Size: </label>\n              '+this.renderSelect()+"\n            </div>\n        "}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.sizes=[5,10,15,20],n.DOM.classList.add("hidden"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"checkVisibility",value:function(t){"brush"===t.toolbox.currentTool?this.DOM.classList.add("visible"):this.DOM.classList.remove("visible")}},{key:"onStateChange",value:function(t){this.checkVisibility(t)}},{key:"onInit",value:function(){var t=this;this.checkVisibility(this.store.state),this.ids.get("select").addEventListener("change",function(e){var n=e.target;t.store.setState({toolbox:{brush:{size:t.sizes[n.selectedIndex]}}})})}},{key:"renderSelect",value:function(){var t=[],e=this.store.getState("toolbox.brush.size");return this.sizes.forEach(function(n){var o=n===e?"selected='selected'":"";t.push("<option "+o+' value="'+n+'">'+n+"pt</option>")}),'\n      <select component-id="select">\n        '+t.join("")+"\n      </select>\n    "}},{key:"render",value:function(){return'\n            <div class="menu-properties">\n              <label> Brush </label>\n              <div data-component="MenuButton"\n                  data-icon="brush"\n              ></div>\n              <span class="separator"></span>\n              <label> Color: </label>\n              <span data-type="brush" data-component="ColorButton"></span>\n              <span class="separator"></span>\n              <label> Size: </label>\n              '+this.renderSelect()+"\n            </div>\n        "}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"onStateChange",value:function(t){this.check(t)}},{key:"onInit",value:function(){this.check(this.store.state)}},{key:"check",value:function(t){var e=this.props.type,n=this.ids.get("btn"),o=t.toolbox[e],r=void 0;o&&(r=o.color),this.color!==r&&(n.style.backgroundColor=r),this.color=r}},{key:"handleClick",value:function(t){var e=t.target;this.store.setState({colorPallet:{target:this.props.type,isVisible:!0,x:e.offsetLeft}})}},{key:"render",value:function(){return'\n            <div \n\t\t\t\t\t\t\t\ttitle="Color"\n                component-id="btn" \n                component-click="handleClick(e)"\n                class="color-button"\n            ></div>\n        '}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),i=n(0);var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=n,this.ctx=this.canvas.getContext("2d"),this.config={pencil:{size:10,color:"#ccc"},brush:{size:10,color:"#ccc"},background:{color:"#222"}},this.setConfig(e)}return o(t,[{key:"onStateChange",value:function(t){this.setConfig(t.toolbox)}},{key:"setConfig",value:function(t){this.config=(0,r.deepExtend)(this.config,t),this.setBackgroundColor(this.config.background.color)}},{key:"setBackgroundColor",value:function(t){this.canvas.style.background=t}},{key:"drawLine",value:function(t,e){var n=this.ctx;n.beginPath(),n.globalCompositeOperation="source-over",n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.lineWidth=this.config.pencil.size,n.strokeStyle=this.config.pencil.color,n.stroke(),n.closePath()}},{key:"drawBrush",value:function(t,e){var n=this.ctx;e.x,t.x,e.y,t.y;n.beginPath(),n.globalCompositeOperation="source-over",n.arc(e.x,e.y,this.config.brush.size,0,2*Math.PI),n.fillStyle=this.config.brush.color,n.fill(),n.closePath()}},{key:"draw",value:function(t,e){"pencil"!==this.config.currentTool?"brush"!==this.config.currentTool?"eraser"!==this.config.currentTool||this.clear(t,e):this.drawBrush(t,e):this.drawLine(t,e)}},{key:"clear",value:function(t,e){var n=this.ctx;n.beginPath(),n.moveTo(t.x,t.y),n.globalCompositeOperation="destination-out",n.arc(e.x,e.y,this.config.eraser.size,0,2*Math.PI),n.moveTo(e.x,e.y),n.fill(),n.stroke(),n.closePath()}}]),t}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0),a=n(2),c=u(n(12)),l=u(n(11));function u(t){return t&&t.__esModule?t:{default:t}}function s(t){t.width=(0,a.getViewportSize)().w-55,t.height=(0,a.getViewportSize)().h-50}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"onInit",value:function(){var t,e,n=this.ids.get("canvas"),o=new c.default(this.store.state.toolbox,n);this.board=o,this.canvas=n,s(n),t=this,e=void 0,["mouseover","mousemove","mouseup","mousedown"].forEach(function(n){t.canvas.addEventListener(n,function(o){var r=new l.default(o.offsetX,o.offsetY);e=e||r,"mousedown"===n&&(t.preserve(),1===o.buttons&&t.draw({x:r.x-2,y:r.y-2},r),2===o.buttons&&t.erase({x:r.x-2,y:r.y-2},r)),"mousemove"===n&&(1===o.buttons&&t.draw(e,r),2===o.buttons&&t.erase(e,r),e=r),"mouseup"===n&&(e=!1,t.restore())})}),t.canvas.addEventListener("contextmenu",function(t){t.preventDefault()}),window.addEventListener("resize",function(e){s(t.canvas)})}},{key:"draw",value:function(t,e){this.board.draw(t,e)}},{key:"erase",value:function(t,e){this.store.setState({toolbox:{currentTool:"eraser"}}),this.board.draw(t,e)}},{key:"preserve",value:function(){this.currentTool=this.store.getState("toolbox.currentTool")}},{key:"restore",value:function(){this.store.setState({toolbox:{currentTool:this.currentTool}})}},{key:"onStateChange",value:function(t){return t.pencil&&t.pencil.color&&this.board.setConfig({pencil:{color:t.pencil.color}}),t.background&&t.background.color&&this.board.setConfig({backgroundColor:t.background.color}),t.board.reset?(this.store.setState({board:{reset:!1}}),void this.reset()):t.board.download?(this.store.setState({board:{download:!1}}),void this.download()):void 0}},{key:"download",value:function(){var t=this.canvas.toDataURL(),e=new Image;e.src=t,window.open("").document.write(e.outerHTML)}},{key:"reset",value:function(){this.canvas.width=this.canvas.width}},{key:"render",value:function(){return'\n        <canvas component-id="canvas"></canvas>\n    '}}]),e}();e.default=(0,i.Connect)(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1);var i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"render",value:function(){return'\n        <div>\n          <div data-component="Menu"></div>\n          <div data-component="Canvas"></div>\n        </div>\n    '}}]),e}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0);var a=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"checkState",value:function(t){var e=this.ids.get("btn"),n=this.props,o=n.path,r=n.selected,i=n.type,a=!!o&&this.store.getState(o);r||a===i?e.classList.add("menu-button--selected"):e.classList.remove("menu-button--selected")}},{key:"onInit",value:function(){this.checkState(this.store.state)}},{key:"onStateChange",value:function(t){this.checkState(t)}},{key:"render",value:function(){var t=this.props,e=t.icon;return'\n            <button \n                component-id="btn" title="'+(t.title||"")+'" class="menu-button icon icon-'+e+'"\n            ></button>\n        '}}]),e}();e.default=(0,i.Connect)(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{name:"MATRIAX8C",colors:["#f0f0dc","#fac800","#10c840","#00a0c8","#d24040","#a0694b","#736464","#101820"]},{name:"ARMOR8",colors:["#181819","#857d7d","#f6f6f5","#444d8e","#463737","#aa3d33","#e9b370","#4a9042"]},{name:"NYX8",colors:["#08141e","#0f2a3f","#20394f","#f6d6bd","#c3a38a","#997577","#816271","#4e495f"]},{name:"Rabbit",colors:["#d47564","#e8c498","#ecece0","#4fa4a5","#aad395","#3b324a","#5c6182"]},{name:"Material",colors:["#F44336","#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C","#FF8A80","#FF5252","#FF1744","#D50000","#E91E63","#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457","#880E4F","#FF80AB","#FF4081","#F50057","#C51162","#9C27B0","#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C","#EA80FC","#E040FB","#D500F9","#AA00FF","#673AB7","#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0","#311B92","#B388FF","#7C4DFF","#651FFF","#6200EA","#3F51B5","#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E","#8C9EFF","#536DFE","#3D5AFE","#304FFE","#2196F3","#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0","#0D47A1","#82B1FF","#448AFF","#2979FF","#2962FF","#03A9F4","#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B","#80D8FF","#40C4FF","#00B0FF","#0091EA","#00BCD4","#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F","#006064","#84FFFF","#18FFFF","#00E5FF","#00B8D4","#009688","#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40","#A7FFEB","#64FFDA","#1DE9B6","#00BFA5","#4CAF50","#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32","#1B5E20","#B9F6CA","#69F0AE","#00E676","#00C853","#8BC34A","#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E","#CCFF90","#B2FF59","#76FF03","#64DD17","#CDDC39","#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24","#827717","#F4FF81","#EEFF41","#C6FF00","#AEEA00","#FFEB3B","#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17","#FFFF8D","#FFFF00","#FFEA00","#FFD600","#FFC107","#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00","#FF6F00","#FFE57F","#FFD740","#FFC400","#FFAB00","#FF9800","#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100","#FFD180","#FFAB40","#FF9100","#FF6D00","#FF5722","#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315","#BF360C","#FF9E80","#FF6E40","#FF3D00","#DD2C00","#795548","#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E","#3E2723","#9E9E9E","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#212121","#607D8B","#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F","#263238","#000000","#FFFFFF"]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(1),a=n(0),c=n(16),l=(o=c)&&o.__esModule?o:{default:o};var u=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"onInit",value:function(){var t=this;this.init(),document.addEventListener("click",function(e){t.store.state.colorPallet.isVisible&&t.store.setState({colorPallet:{isVisible:!1}})})}},{key:"onStateChange",value:function(t){var e=t.colorPallet,n=e.target,o=e.isVisible,r=e.x,i=this.ids.get("comp");o?(i.style.left=r+"px",i.classList.add("visible")):i.classList.remove("visible"),this.props.target=n,this.createColorPallet()}},{key:"handleChangeColor",value:function(t){var e,n,o;this.store.setState({toolbox:(e={},n=this.props.target,o={color:t},n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e)})}},{key:"bindEvents",value:function(){var t=this;this.DOM.addEventListener("click",function(e){var n=e.target.getAttribute("data-action");n&&t.handleChangeColor(n)})}},{key:"init",value:function(){this.createColorPallet(),this.bindEvents()}},{key:"createColorPallet",value:function(){var t=this.store.getState("colorPallet.target"),e=this.store.getState("toolbox."+t+".color"),n=this.ids.get("container"),o=document.createElement("div");l.default.forEach(function(t){var n=document.createElement("div");n.classList.add("color-palette__wrapper"),t.colors.forEach(function(t){var o=document.createElement("div");o.classList.add("color-palette__color"),o.style.background=t,o.setAttribute("data-action",t),e===t&&o.classList.add("color-palette__color--selected"),n.appendChild(o)});var r=document.createElement("div");r.innerHTML="<label>"+t.name+"</label>",o.appendChild(r),o.appendChild(n)}),n.innerHTML="",n.appendChild(o)}},{key:"render",value:function(){return'\n        <div \n          component-id="comp"\n          class="color-palette" \n        >\n          <div\n            component-id="container"\n            class="color-palette__container" \n          > </div>\n        </div>\n        '}}]),e}();e.default=(0,a.Connect)(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=[],e=0;function n(t,e){if("string"!=typeof t)throw"Function name need to be a string";return!0}return{on:function(o,r){if(n(o)&&r&&r.call){var i="a"+e++;return(t[o]=t[o]||{})[i]=r,function(){delete t[o][i]}}},emit:function(e){var o=t[e]||{},r=Object.keys(o),i=r.length,a=0;if(n(e))for(;a<i;a+=1)o[r[a]]&&o[r[a]].apply(this,Array.prototype.slice.call(arguments,1))},off:function(e){n(e)&&delete t[e]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(0),a=n(2);var c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),o(e,[{key:"handleClickFullscreen",value:function(t){"on"===this.store.getState("toolbox.fullscreen",this.store.state)?(this.store.setState({toolbox:{fullscreen:"off"}}),(0,a.closeFullscreen)()):confirm("It would reset your board, do you want to proceed?")&&(this.store.setState({toolbox:{fullscreen:"on"}}),(0,a.openFullscreen)())}},{key:"handleClickBackground",value:function(t){this.store.setState({toolbox:{currentTool:"background"}})}},{key:"handleClickEraser",value:function(t){this.store.setState({toolbox:{currentTool:"eraser"}})}},{key:"handleClickPencil",value:function(t){this.store.setState({toolbox:{currentTool:"pencil"}})}},{key:"handleClickBrush",value:function(t){this.store.setState({toolbox:{currentTool:"brush"}})}},{key:"render",value:function(){return'\n            <div class="tool-box__menu">\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t\t\tdata-icon="pencil"\n\t\t\t\t\t\t\t\t\t\tdata-title="Pencil"\n\t\t\t\t\t\t\t\t\t\tdata-type="pencil"\n\t\t\t\t\t\t\t\t\t\tdata-path="toolbox.currentTool"\n                    component-click="handleClickPencil(e)"\n                >\n                </div>\n\t\t\t\t\t\t\t\t<div data-component="MenuButton"\n\t\t\t\t\t\t\t\t\t\tdata-title="Brush"\n\t\t\t\t\t\t\t\t\t\tdata-type="brush"\n\t\t\t\t\t\t\t\t\t\tdata-icon="brush"\n\t\t\t\t\t\t\t\t\t\tdata-path="toolbox.currentTool"\n                    component-click="handleClickBrush(e)"\n                >\n                </div>\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t\t\tdata-title="Eraser"\n\t\t\t\t\t\t\t\t\t\tdata-type="eraser"\n\t\t\t\t\t\t\t\t\t\tdata-icon="eraser"\n\t\t\t\t\t\t\t\t\t\tdata-path="toolbox.currentTool"\n                    component-click="handleClickEraser(e)"\n                ></div>\n\n                <span class="separator-horizontal"></span>\n\n                <div data-component="MenuButton"\n\t\t\t\t\t\t\t\t\t\tdata-title="Background Settings"\n\t\t\t\t\t\t\t\t\t\tdata-type="background"\n\t\t\t\t\t\t\t\t\t\tdata-path="toolbox.currentTool"\n\t\t\t\t\t\t\t\t\t\tdata-icon="background"\n                    component-click="handleClickBackground(e)"\n                >\n                </div>\n            </div>\n        '}}]),e}();e.default=(0,i.Connect)(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(n(19)),r=h(n(17)),i=h(n(15)),a=h(n(14)),c=h(n(13)),l=h(n(10)),u=h(n(9)),s=h(n(8)),f=h(n(7)),d=h(n(6)),p=h(n(5));function h(t){return t&&t.__esModule?t:{default:t}}e.default={ColorPallet:r.default,Menu:o.default,MenuButton:i.default,Screen:a.default,Canvas:c.default,ColorButton:l.default,MenuBrushProperties:u.default,MenuPencilProperties:s.default,MenuEraserProperties:f.default,MenuBackgroundProperties:d.default,TopMenu:p.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.start=function(t){c(t),a.store.setState({})},e.default=function(t){c(t)};var o,r=n(20),i=(o=r)&&o.__esModule?o:{default:o},a=n(0);function c(t){t.querySelectorAll("[data-component]").forEach(function(t){var e=t.getAttribute("data-component");if(i.default[e]){var n=new i.default[e](t);n._init(),c(n.DOM)}})}},function(t,e,n){"use strict";var o,r=n(21),i=(o=r)&&o.__esModule?o:{default:o};(0,n(0).createStore)({toolbox:{brush:{color:"#0091ea",size:10},pencil:{color:"#0091ea",size:3},eraser:{size:10},background:{color:"#eceff1"},currentTool:"pencil"},board:{reset:!1,download:!1},colorPallet:{target:"",isVisible:!1}}),(0,i.default)(document.getElementById("app-root"))},function(t,e,n){"use strict";var o,r=n(22);(o=r)&&o.__esModule;window.onload=function(){}},function(t,e,n){n(23),t.exports=n(4)}]);